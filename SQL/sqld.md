# SQLD 대비

## 모델링
#### 모델링의 특징
* 추상화
* 단순화
* 명확화

#### 모델링의 3가지 관점
* 데이터 관점: 데이터 간의 관계, 어떤 데이터와 업무가 연관 있는지
* 프로세스 관점: 실제하고 있는 업무는 무엇인지
* 데이터와 프로세스의 상관 관점: 업무 처리 방법에 데이터가 어떤 영향을 받는지

#### 사상 (Mapping)
* 사상은 상호 독립된 개념을 연결 시켜주는 다리를 뜻한다.
* 논리적 사상 : 외부적 뷰와 개념적 뷰의 상호 관련성을 정의
* 물리적 사상 : 개념적 뷰와 저장된 데이터베이스의 상호 관련성을 정의

#### 좋은 데이터 모델의 요소
* 완전성
* 중복배제
* 업무규칙
* 데이터 재사용
* 의사소통
* 통합성


## 식별자
* 식별자는 인스턴스의 `유일성`을 보장한다.

#### 식별자 분류
##### 대표성에 따른 분류
* 주식별자(기본키) : 엔터티를 대표하는 유일한 식별자. 다른 엔터티와 참조관계를 연결할 수 있다.
* 보조식별자(후보키) : 대표성을 가지지 못하며 참조관계 연결을 할 수 없다.
* 일반적으로 엔터티는 반드시 주식별자 속성 외의 속성을 1개이상 가져야 하지만, `관계 엔터티` 는 주식별자 속성만 가질 수 있다.

##### 생성 여부에 따른 분류
* 내부 식별자: 스스로 생성
* 외부 식별자: 타 엔터티로부터 받아옴

##### 속성수에 따른 분류
* 단일 식별자: 하나의 속성
* 복합 식별자: 2개 이상의 속성

##### 대체 여부에 따른 분류
* 인조(대리) 식별자: 인위적으로 만듦, 속성들을 하나의 속성으로 묶어 사용
* 본질(원조) 식별자: 업무에 의해 만듦, 가공되지 않은 원래의 식별자

#### 주식별자의 특징
* 유일성 : 주식별자에 의해 모든 인스턴스들이 유일하게 구분 되어야 한다. 
* 최소성 : 주식별자를 구성하는 속성의 수는 유일성을 만족하는 최소의 수가 되어야 한다.
* 불변성 : 지정된 주식별자 값은 자주 변하지 않아야 한다. 변하면 이전 기록이 말소된다.
* 존재성 : 주식별자가 지정되면 반드시 값이 들어와야 한다.

#### 식별자 관계
* 식별자 관계란 부모의 주식별자가 자식의 주식별자가 되는 경우를 뜻한다. 실선으로 표시한다. (카드와 결제 엔터티)

#### 비식별자 관계
* 비식별자 관계란 부모의 주식별자가 자식의 주식별자가 되지 않고 속성으로 사용하는 경우를 뜻한다. 점선으로 표시한다. (카드와 카드 AS 엔터티 - 카드 AS 번호를 기본키로 사용한다.)



## 트랜잭션
* 밀접히 관련 되어 분리할 수 없는 1개 이상의 DB 조작. 논리적 연산 단위.

#### 트랜잭션 특징
* 고립성
* 일관성
* 지속성
* 원자성


#### 함수
* SET TRANSACTION : 트랜잭션 모드로 설정할 때
* BEGIN: 트랜잭션의 시작
* COMMIT : 트랜잭션의 실행, 올바르게 반영된 데이터를 DB에 반영
* ROLLBACK : 트랜잭션의 취소, 트랜잭션 시작 이전의 상태로 되돌리고 COMMIT 되지 않은 모든 트랜잭션을 롤백함
* SAVEPOINT : 롤백 지점 설정, 저장 지점 
* LOCK : 테이블 자원을 점유


### 함수
* `연산자 우선 순위: () -> NOT -> 비교 -> AND -> OR`
* INTERSECT : 교집합
* MINUS / EXCEPT : 차집합
* UNION : 합집합, 중복행 제거 O
* UNION ALL : 합집합, 중복행 제거 X
* SUBSTR / SUBSTRING : m 위치에서 n개의 문자 길이에 해당하는 문자열 리턴
* CHR: ASCII 값에 해당하는 문자 반환
* SIGN: 숫자가 양수면 1, 음수면 -1, 0이면 0 반환
* FLOOR : 내림
* TRUNC : 원하는 소수점에서 내림 (TRUNC(38.5235, 3) -> 38.523, default 소수점 :0)
* ROUND : 원하는 소수점에서 반올림
* ROWNUM: 원하는 만큼 행 가져올 때 사용

## DCL
* GRANT : 테이블 생성 권한 주기
* REVOKE : 권한 뺏기

## JOIN
* 5개의 테이블을 JOIN 하기 위해서는 최소 4번의 JOIN이 필요하다. (N-1)

#### JOIN 종류
* 동등 조인 : 2개의 테이블 컬럼 값들이 서로 정확하게 일치하는 경우에 사용
* 비동등 조인 : 2개의 테이블 컬럼 값들이 서로 정확하게 일치하지 않는 경우에 사용
* SORT MERGE JOIN :  대용량 데이터를 정렬해서 조인한다. 동등 조인과 비동등 조인 모두 가능하다.
* HASH JOIN : 동등 조인에서만 사용할 수 있는 조인방식이다. Sort merge join 보다 성능이 좋고 Index 가 없어도 된다.
* INNER JOIN
* NATURAL JOIN
* CROSS JOIN
* OUTER JOIN (LEFT, RIGHT, FULL)

## VIEW (뷰)
* 테이블은 실제로 데이터를 갖고 있지만, 뷰는 실제 데이터를 갖고 있지 않다.
* 사용자에게 정보를 감출 수 있으며 복잡한 질의를 단순하게 작성할 수 있다.

## 정규화
* 제1정규화
* 제2정규화
* 제3정규화: 주식별자를 제외한 칼럼 간에 종속성을 확인해서 종속성이 있으면 분할하는 과정, 주식별자와 관련성이 가장 낮다.

## 반정규화
* 수직분할: DISK I/O를 경감할 수 있는 반정규화 방법
